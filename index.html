<!DOCTYPE html>
<html lang=en>
    <head>
        <script src="https://cdn.rawgit.com/mrdoob/three.js/r84/build/three.js"></script>
        <script src="https://cdn.rawgit.com/AltspaceVR/AltspaceSDK/v2.7.1/dist/altspace.min.js"></script>
        <script src="https://cdn.rawgit.com/NGenesis/altspacevr-behaviors/v0.9.2/js/altspaceutil.min.js"></script>
    </head>
    <body>
        <script>
        // wraps up the renderer, scene, and animation loop
        var sim = new altspace.utilities.Simulation();
        var xhr = new XMLHttpRequest();
        var boxTex;
        var scene = sim.scene;
        scene.addEventListener('avatarchange', function(event) {
        boxTex = new THREE.TextureLoader().load("dummyimage.com/600x400/000/fff.jpg&text=" + event.detail.displayName);
        console.log(boxTex);
        console.log(event.detail.displayName);
        });
        // create a green cube 200 pixels in size
        var cube = new THREE.Mesh(
            new THREE.BoxGeometry(200, 200, 200),
            new THREE.MeshBasicMaterial({map: boxTex})
        );
        sim.scene.add(cube);

        // attach a spin behavior to make it rotate over time
        cube.addBehavior( new altspace.utilities.behaviors.Spin() );
       
        </script>
    </body>
</html>
